CREATE TABLE IF NOT EXISTS medium (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT UNIQUE NOT NULL
);

CREATE TABLE IF NOT EXISTS series (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    mediumId INTEGER NOT NULL
);

CREATE TABLE IF NOT EXISTS season (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    seriesId INTEGER NOT NULL
);

CREATE TABLE IF NOT EXISTS video (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    path TEXT UNIQUE NOT NULL,
    spoken_langs TEXT NOT NULL,
    subtitle_langs TEXT NOT NULL,
    immersible BOOLEAN NOT NULL,
    streamable BOOLEAN NOT NULL DEFAULT 1,
    mediumId INTEGER NOT NULL,
    seriesId INTEGER,
    seasonId INTEGER
);

INSERT INTO medium (name) VALUES
    ("Movie"),
    ("TV"),
    ("Commercial"),
    ("Short"),
    ("Talk");
